<project  name="ssss">
    <path id="classpath">
        <pathelement path="${compile_classpath}"/>
    </path>
    <taskdef name="groovyc"
             classname="org.codehaus.groovy.ant.Groovyc">
        <classpath refid="classpath"/>
    </taskdef>
    <macrodef name="testing">
        <attribute name="sputnikMod"/>
        <groovyc destdir="${project.build.testOutputDirectory}"
                 srcdir="${basedir}/@{sputnikMod}"
                 indy="true"
                 listfiles="true">
            <classpath refid="classpath"/>
        </groovyc>
    </macrodef>
    <target name="aaa">
        <mkdir dir="${basedir}/src/test/groovy"/>
        <mkdir dir="${project.build.testOutputDirectory}"/>
        <parallel>
           <testing sputnikMod="sputnik\mod1"/>
           <testing sputnikMod="sputnik\mod2"/>
           <testing sputnikMod="sputnik\mod3"/>
        </parallel>
    </target>
</project>
